# ๐ค ุฏููู ูุธุงู ุงูุฐูุงุก ุงูุงุตุทูุงุนู โ ุงููุฑุฌุน ุงูุดุงูู ุจุงูุนุฑุจู

> **ุงูุฅุตุฏุงุฑ:** 1.0 | **ุงูุชุงุฑูุฎ:** ูุจุฑุงูุฑ 2026  
> ูุฐุง ุงูุฏููู ูุดุฑุญ ูู ููู ูู ุงููุธุงูุ ููููุฉ ุฑูุน ุงููููุงุช ูุงูุตูุฑุ ุขููุฉ ุงูุชูุทูุนุ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุชุนูููุงุช ุงูุชุดุบูู ูุงูุชุทููุฑ.

---

## ๐ ูููู ุงููุดุฑูุน

```
ai-engine/
โโโ main.py                          โ ููุทุฉ ุฏุฎูู ุงูุชุทุจูู
โโโ passenger_wsgi.py                โ ุชุดุบูู ุนุจุฑ Passenger (cPanel)
โโโ requirements.txt                 โ ุงูููุชุจุงุช ุงููุทููุจุฉ
โโโ .htaccess                        โ ุชูุฌูู Apache โ FastAPI
โโโ .env                             โ ุฅุนุฏุงุฏุงุช ุณุฑูุฉ (ูุง ุชูุฑูุน ูู git)
โโโ app/
โ   โโโ config.py                    โ ุฅุนุฏุงุฏุงุช ูุฑูุฒูุฉ
โ   โโโ db/
โ   โ   โโโ mysql_conn.py            โ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
โ   โโโ api/v1/endpoints/
โ   โ   โโโ health.py                โ ูุญุต ุตุญุฉ ุงููุธุงู
โ   โ   โโโ chat.py                  โ ุงูุฏุฑุฏุดุฉ + ุงููููุงุช
โ   โ   โโโ files.py                 โ ุฑูุน ุงููููุงุช
โ   โ   โโโ knowledge.py             โ ููุงุนุฏ ุงููุนุฑูุฉ
โ   โ   โโโ threads.py               โ ุงููุญุงุฏุซุงุช
โ   โ   โโโ feedback.py              โ ุงูุชููููุงุช
โ   โโโ utils/
โ       โโโ file_processor.py        โ ูุนุงูุฌ ุงููููุงุช ูุงูุตูุฑ
โ       โโโ chunking.py              โ ุชูุทูุน ุงููุตูุต
โ       โโโ text_processing.py       โ ูุนุงูุฌุฉ ุงููุตูุต
โโโ uploads/                         โ ูุฌูุฏ ุชุฎุฒูู ุงููููุงุช ุงููุฑููุนุฉ
โโโ frontend/pages/
    โโโ test_api.php                 โ ุตูุญุฉ ุงูุฏุฑุฏุดุฉ (ุงููุณุชุฎุฏู)
    โโโ admin_ai.php                 โ ููุญุฉ ุงูุฅุฏุงุฑุฉ
```

---

## ๐ ุชุดุบูู ุงููุธุงู

### ุงูุทุฑููุฉ 1 โ Passenger (cPanel)
ุงูููู `.htaccess` ููุฌูู ูู ุทูุจุงุช `/ai-engine/` ุฅูู `passenger_wsgi.py` ุงูุฐู ูุญููู FastAPI:

```
/.htaccess  โ  passenger_wsgi.py  โ  main.py  โ  FastAPI
```

ูุฅุนุงุฏุฉ ุชุดุบูู ุงูุชุทุจูู ุจุนุฏ ุฃู ุชุบููุฑ:
```bash
touch ai-engine/tmp/restart.txt
```

### ุงูุทุฑููุฉ 2 โ uvicorn ูุจุงุดุฑ
```bash
cd ai-engine
pip install -r requirements.txt
uvicorn main:app --host 0.0.0.0 --port 8888 --reload
```

### ุฅุนุฏุงุฏ ููู `.env`
```env
DB_HOST=localhost
DB_NAME=ุงุณู_ูุงุนุฏุฉ_ุงูุจูุงูุงุช
DB_USER=ุงุณู_ุงููุณุชุฎุฏู
DB_PASS=ูููุฉ_ุงููุฑูุฑ
DB_CHARSET=utf8mb4
UPLOAD_DIR=uploads
CHUNK_SIZE=500
CHUNK_OVERLAP=50
PORT=8888
```

---

## ๐ก ููุงุท ููุงูุฉ API ุงููุงููุฉ

### Base URL
```
https://hcsfcs.top/ai-engine     โ ูู ุงููุชุตูุญ (ุฎุงุฑุฌู)
http://127.0.0.1:8888             โ ูู PHP ุนูู ููุณ ุงูุณูุฑูุฑ (ุฏุงุฎูู)
```

### ุฌุฏูู ุงููุณุงุฑุงุช

| ุงูุทุฑููุฉ | ุงููุณุงุฑ | ุงููุตู |
|---------|--------|-------|
| GET | `/api/v1/health` | ูุญุต ุงูุงุชุตุงู ูุงููุธุงู |
| POST | `/api/v1/chat` | ุฏุฑุฏุดุฉ ูุตูุฉ |
| POST | `/api/v1/chat/with-image` | ุฏุฑุฏุดุฉ ูุน ููู/ุตูุฑุฉ |
| POST | `/api/v1/files/upload` | ุฑูุน ููู ูุงุณุชุฎุฑุงุฌ ูุตู |
| GET | `/api/v1/files` | ูุงุฆูุฉ ุงููููุงุช |
| GET | `/api/v1/knowledge-bases` | ูุงุฆูุฉ ููุงุนุฏ ุงููุนุฑูุฉ |
| POST | `/api/v1/knowledge-bases` | ุฅูุดุงุก ูุงุนุฏุฉ ูุนุฑูุฉ |
| POST | `/api/v1/knowledge-bases/{id}/documents` | ุฅุถุงูุฉ ูุณุชูุฏ + ุชูุทูุน |
| GET | `/api/v1/threads` | ูุงุฆูุฉ ุงููุญุงุฏุซุงุช |
| GET | `/api/v1/threads/{id}` | ูุญุงุฏุซุฉ ูุน ุฑุณุงุฆููุง |
| DELETE | `/api/v1/threads/{id}` | ุญุฐู ูุญุงุฏุซุฉ |
| POST | `/api/v1/feedback` | ุฅุฑุณุงู ุชูููู |
| GET | `/api/v1/feedback` | ูุงุฆูุฉ ุงูุชููููุงุช |
| GET | `/docs` | ุชูุซูู Swagger ุชูุงุนูู |

---

## ๐ฌ ููู ุชุนูู ุงูุฏุฑุฏุดุฉ โ ุฎุทูุฉ ุจุฎุทูุฉ

### 1. ุฏุฑุฏุดุฉ ูุตูุฉ ุนุงุฏูุฉ (`/api/v1/chat`)

```
[ุงููุณุชุฎุฏู ููุชุจ ุณุคุงูุงู]
        โ
[PHP] POST /api/v1/chat  { question: "...", thread_id: "..." }
        โ
[chat.py] extract_keywords(question)
        โ
[DB] SELECT content FROM ai_document_chunks WHERE content LIKE '%ูููุฉ%'
        โ
[chat.py] score_chunk() โ ุชุฑุชูุจ ุงููุชุงุฆุฌ ุญุณุจ ุงูุตูุฉ
        โ
[chat.py] build_smart_answer() โ ุชุฌููุน ุงูุฅุฌุงุจุฉ
        โ
[DB] INSERT INTO ai_messages (ุณุคุงู + ุฅุฌุงุจุฉ)
        โ
[JSON Response] { answer: "...", sources: [...], thread_id: "..." }
```

### 2. ุฏุฑุฏุดุฉ ูุน ุตูุฑุฉ ุฃู ููู

```
[ุงููุณุชุฎุฏู ูุฑูุน ุตูุฑุฉ + ุณุคุงู]
        โ
[PHP] POST /api/v1/files/upload  โ ุงูุฎุทูุฉ 1: ุฑูุน ุงูููู
        โ
[files.py] extract_text_from_file() โ ุงุณุชุฎุฑุงุฌ ุงููุต
        โ
[DB] INSERT INTO ai_files โ ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
        โ
[PHP] ูุถูู ุงููุต ุฅูู ุงูุณุคุงู: "ุณุคุงู\n[ูุญุชูู ุงูููู: ...]"
        โ
[PHP] POST /api/v1/chat  โ ุงูุฎุทูุฉ 2: ุงูุฏุฑุฏุดุฉ ูุน ุงูุณูุงู
        โ
[chat.py] ูุณุชุฎุฑุฌ ูุญุชูู ุงูููู ูู ุงูุณุคุงู + ูุจุญุซ ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ
        โ
[ุฅุฌุงุจุฉ ุชุฌูุน ุจูู: ูุญุชูู ุงูููู + ูุงุนุฏุฉ ุงููุนุฑูุฉ]
```

---

## ๐ ุดุฑุญ ูู ููู ุจุงูุชูุตูู

### `main.py` โ ููุทุฉ ุงูุฏุฎูู

ููุดุบูู FastAPI ููุณุฌูู ูู ุงูู routers:

```python
app = FastAPI(title="RAG System API")

# ูุณุฌูู ูู ููุงุท ุงูููุงูุฉ:
app.include_router(health.router, prefix="/api/v1")
app.include_router(chat.router,   prefix="/api/v1")
app.include_router(files.router,  prefix="/api/v1")
# ... ุฅูุฎ
```

**ูุชู ููุณุชุฎุฏู:** ููุดุบููู ูุฑุฉ ูุงุญุฏุฉ ุนูุฏ ุชุดุบูู ุงูุณูุฑูุฑ.

---

### `app/config.py` โ ุงูุฅุนุฏุงุฏุงุช

ููุฑุฃ ูู ุงูุฅุนุฏุงุฏุงุช ูู ููู `.env`:

| ุงููุชุบูุฑ | ุงููููุฉ ุงูุงูุชุฑุงุถูุฉ | ุงููุตู |
|---------|------------------|-------|
| `DB_HOST` | `localhost` | ุนููุงู ูุงุนุฏุฉ ุงูุจูุงูุงุช |
| `UPLOAD_DIR` | `uploads` | ูุฌูุฏ ุชุฎุฒูู ุงููููุงุช |
| `CHUNK_SIZE` | `500` | ุญุฌู ุงููุทุนุฉ (ุจุงููููุงุช) |
| `CHUNK_OVERLAP` | `50` | ุงูุชุฏุงุฎู ุจูู ุงููุทุน |
| `MAX_FILE_SIZE` | `50MB` | ุฃูุตู ุญุฌู ููููู |
| `TOP_K_RESULTS` | `5` | ุนุฏุฏ ูุชุงุฆุฌ ุงูุจุญุซ |

---

### `app/utils/file_processor.py` โ ูุนุงูุฌ ุงููููุงุช โญ

**ุงูุฃูู ูู ุงููุธุงู** โ ูุณุชุฎุฑุฌ ุงููุต ูู ุฃู ููู.

#### ุฃููุงุน ุงููููุงุช ุงููุฏุนููุฉ:

| ุงูููุน | ุงูุงูุชุฏุงุฏุงุช | ุงูุทุฑููุฉ |
|-------|------------|---------|
| ูุตู | `.txt .md .log .json .py .php .sql` | ูุฑุงุกุฉ ูุจุงุดุฑุฉ ุจุนุฏุฉ ุชุฑููุฒุงุช |
| CSV | `.csv` | ุชุญููู ุงูุตููู ูุงูุฃุนูุฏุฉ |
| PDF | `.pdf` | PyPDF2 โ pdfminer โ raw |
| Word | `.docx` | ูู ุถุบุท ZIP โ ุชุญููู XML |
| ุตูุฑ | `.jpg .png .gif .bmp .webp .tiff` | OCR โ Pillow โ header |

#### ููู ูุนุงูุฌ ูู ููุน:

**๐ ูููุงุช ูุตูุฉ:**
```python
# ูุฌุฑูุจ ุชุฑููุฒุงุช ูุชุนุฏุฏุฉ ููุนุฑุจูุฉ:
for encoding in ["utf-8", "utf-8-sig", "windows-1256", "iso-8859-6"]:
    try:
        text = file_bytes.decode(encoding)
        # ูุฌุญ โ ูุญูุธ ุงููุต
```

**๐ CSV:**
```python
# ูุญูู ุงูุฌุฏูู ุฅูู ูุต:
# ุงูุฃุนูุฏุฉ: ุงูุงุณูุ ุงูุนูุฑุ ุงููุฏููุฉ
# ุนุฏุฏ ุงูุตููู: 100
# ุตู 1: {"ุงูุงุณู": "ุฃุญูุฏ", "ุงูุนูุฑ": "25", "ุงููุฏููุฉ": "ุงูุดุงุฑูุฉ"}
```

**๐ PDF (3 ูุญุงููุงุช):**
1. `PyPDF2` โ ุงูููุชุจุฉ ุงูุฃููู ูููุตูุต ุงูุนุฑุจูุฉ
2. `pdfminer.six` โ ุจุฏูู ููููุฒ
3. `_extract_pdf_raw` โ ุงุณุชุฎุฑุงุฌ ุฎุงู ูู binary

> โ๏ธ **ููู:** ูุฌุจ ุชุซุจูุช ุงูููุชุจุงุช ุฃููุงู:
> ```bash
> pip install PyPDF2 pdfminer.six
> ```

**๐ DOCX (Word):**
```python
# DOCX ูู ููู ZIP ุฏุงุฎูู XML
# ูุชุญ ZIP โ ูุฑุงุกุฉ word/document.xml โ ุฅุฒุงูุฉ tags XML โ ูุต ูุธูู
```

**๐ผ๏ธ ุงูุตูุฑ (3 ูุฑุงุญู):**

**ุงููุฑุญูุฉ 1 โ OCR (ุงูุฃูุถู):**
```python
# ููุฑุฃ ุงููุต ุงูููุชูุจ ุฏุงุฎู ุงูุตูุฑุฉ
import pytesseract
text = pytesseract.image_to_string(img, lang="ara+eng")
# ูุฏุนู ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ ูุนุงู
```
> โ๏ธ ูุชุทูุจ ุชุซุจูุช: `pip install pytesseract` + ุจุฑูุงูุฌ Tesseract ุนูู ุงูุณูุฑูุฑ

**ุงููุฑุญูุฉ 2 โ Pillow (ูุนูููุงุช ุงูุตูุฑุฉ):**
```python
# ุฅุฐุง ูู ูุชููุฑ OCRุ ูุนุทู ูุนูููุงุช ุงูุตูุฑุฉ:
"๐ท ุตูุฑุฉ: 1920ร1080 ุจูุณู
 ุงูููุน: PNG
 ุงููุถุน: RGB
 ุงูุญุฌู: 245.3 KB"
```

**ุงููุฑุญูุฉ 3 โ ูู ุงูู Header ูุจุงุดุฑุฉ:**
```python
# ุจุฏูู ุฃู ููุชุจุฉ โ ููุฑุฃ ุงูุฃุจุนุงุฏ ูู ุฃูู bytes:
# PNG: bytes 16-23 = ุงูุนุฑุถ ูุงูุงุฑุชูุงุน
# JPEG: ูุจุญุซ ุนู SOF marker
# BMP: bytes 18-25
```

---

### `app/utils/chunking.py` โ ุชูุทูุน ุงููุตูุต

**ููุงุฐุง ููุทูุนุ** ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชูุฎุฒูู ูุตูุตุงู ุทูููุฉ. ุนูุฏ ุงูุจุญุซุ ูุจุญุซ ูู "ูุทุน ุตุบูุฑุฉ" ูุฅูุฌุงุฏ ุฃุฏู ุฅุฌุงุจุฉ.

#### ุขููุฉ ุงูุชูุทูุน:

```
ูุต ุทููู (2000 ูููุฉ)
         โ
[ุชูุทูุน ุจู chunk_size=500 ูููุฉ]
         โ
ูุทุนุฉ 1: ูููุฉ 1-500
ูุทุนุฉ 2: ูููุฉ 451-950   โ ุชุฏุงุฎู 50 ูููุฉ ูุน ุงูุณุงุจูุฉ
ูุทุนุฉ 3: ูููุฉ 901-1400
ูุทุนุฉ 4: ูููุฉ 1351-1800
```

**ุงูุชุฏุงุฎู (Overlap)** ููู: ูุถูู ุฃู ุงููุนูููุงุช ุงูุชู ุชูุน ุนูู "ุญุฏูุฏ" ุงููุทุน ูุง ุชุถูุน.

#### ุชูุทูุน ุฎุงุต ุจุงูุฃุณุฆูุฉ ูุงูุฃุฌูุจุฉ:

```python
# ุฅุฐุง ุงููุต ุจูุฐุง ุงูุดูู:
"""
ุณุคุงู: ูุง ูู ุณุงุนุงุช ุงูุนููุ
ุฌูุงุจ: ูู 8 ุตุจุงุญุงู ุญุชู 5 ูุณุงุกู

ุณุคุงู: ูุง ูู ุฑูู ุงูุชูุงุตูุ
ุฌูุงุจ: 0501234567
"""

# ูููุทููุน ูู ุณุคุงู+ุฌูุงุจ ูุนุงู โ ุฃูุถู ุฏูุฉ ูู ุงูุจุญุซ
```

---

### `app/api/v1/endpoints/chat.py` โ ููุจ ุงููุธุงู

#### ุฏุงูุฉ `extract_keywords` โ ุงุณุชุฎุฑุงุฌ ุงููููุงุช ุงูููุชุงุญูุฉ:

```python
ุณุคุงู: "ูุง ูู ูุณุงุญุฉ ูุดุงุท ุจูุงูุฉุ"
         โ
ุฅุฒุงูุฉ ูููุงุช ุงูุชููู: "ูุงุ ููุ ูุดุงุท"
         โ
ุงููููุงุช ุงูููุชุงุญูุฉ: ["ูุณุงุญุฉ", "ุจูุงูุฉ"]
         โ 
ุชุญููู ุงูุฌุฐูุฑ: "ุจูุงู" โ ุจูุงูุฉ
```

#### ุฏุงูุฉ `score_chunk` โ ุชูููู ุตูุฉ ุงููุทุนุฉ:

ุชุญุณุจ ุฏุฑุฌุฉ ุงูุตูุฉ ุจูู ุงูุณุคุงู ููู ูุทุนุฉ ูุตูุฉ ูู 5 ูุนุงููุฑ:

| ุงููุนูุงุฑ | ุงููุฒู | ุงููุตู |
|---------|-------|-------|
| `keyword_score` | 25% | ูุฌูุฏ ุงููููุงุช ุงูููุชุงุญูุฉ |
| `phrase_score` | 15% | ูุฌูุฏ ุงูุฌููุฉ ูุงููุฉ |
| `qa_score` | 30% | ุชุทุงุจู ููุท ุณุคุงู/ุฌูุงุจ |
| `tf_score` | 15% | ุชูุฑุงุฑ ุงููููุงุช |
| `topic_bonus` | 15% | ูุทุงุจูุฉ ุงูููุถูุน |

#### ุฏุงูุฉ `build_smart_answer` โ ุจูุงุก ุงูุฅุฌุงุจุฉ:

```
1. ูู ููุฌุฏ ุฅุฌุงุจุฉ ูุจุงุดุฑุฉ (ููุท ุณุคุงู/ุฌูุงุจ)ุ
   โ ูุนู: ุฅุฑุฌุงุนูุง ูุจุงุดุฑุฉ โ
   
2. ูู ููุฌุฏ ูุญุชูู ูู ููู ูุฑููุ
   โ ูุนู: ุฅุถุงูุชู ุฃููุงู ูู ุงูุฅุฌุงุจุฉ
   
3. ูู ููุฌุฏ ูุทุน ุฐุงุช ุตูุฉุ
   โ ูุนู: ุฅุถุงูุฉ ุฃูุถู 3 ูุทุน
   
4. ูู ูุฌุฏ ุดูุฆุงู:
   โ ุฅุฑุฌุงุน ุฑุณุงูุฉ "ูุง ุชูุฌุฏ ูุนูููุงุช ูุงููุฉ"
```

---

### `app/api/v1/endpoints/files.py` โ ุฑูุน ุงููููุงุช

#### ูุณุงุฑ ุฑูุน ููู: `POST /api/v1/files/upload`

```
[ููู ููุฑูู]
     โ
[ุญูุธ ุนูู ุงููุฑุต] uploads/{uuid}.ext
     โ
[extract_text_from_file()] โ ุงุณุชุฎุฑุงุฌ ุงููุต
     โ
[INSERT INTO ai_files] โ ุญูุธ ูู DB ูุน ุงููุต ุงููุณุชุฎุฑุฌ
     โ
[Response JSON]:
{
  "file_id": "uuid",
  "filename": "ุงุณู_ุงูููู.pdf",
  "extracted_text": "ุงููุต ุงููุงูู ุงููุณุชุฎุฑุฌ",
  "text_extracted": true,
  "preview": "ุฃูู 100 ุญุฑู..."
}
```

#### ุฅุฑูุงู ููู ุจูุงุนุฏุฉ ูุนุฑูุฉ ูุจุงุดุฑุฉ:

```bash
# ุฑูุน ููู ูุฅุถุงูุชู ููุงุนุฏุฉ ูุนุฑูุฉ ูุจุงุดุฑุฉ:
curl -X POST http://127.0.0.1:8888/api/v1/files/upload \
  -F "file=@ูููู.pdf" \
  -F "knowledge_base_id=uuid-ูุงุนุฏุฉ-ุงููุนุฑูุฉ"
```

---

### `app/api/v1/endpoints/knowledge.py` โ ููุงุนุฏ ุงููุนุฑูุฉ

#### ุฅูุดุงุก ูุงุนุฏุฉ ูุนุฑูุฉ ุฌุฏูุฏุฉ:

```bash
curl -X POST http://127.0.0.1:8888/api/v1/knowledge-bases \
  -H "Content-Type: application/json" \
  -d '{"name": "ุฏููู ุงูุงุดุชุฑุงุทุงุช ุงูุตุญูุฉ", "description": "...", "is_public": true}'
```

#### ุฅุถุงูุฉ ูุณุชูุฏ ูุชูุทูุนู ุชููุงุฆูุงู:

```bash
curl -X POST http://127.0.0.1:8888/api/v1/knowledge-bases/{kb_id}/documents \
  -H "Content-Type: application/json" \
  -d '{
    "title": "ุงุดุชุฑุงุทุงุช ุงูุจูุงูุฉ",
    "content": "ุงููุต ุงููุงูู ูููุณุชูุฏ...",
    "language": "ar"
  }'

# Response:
{
  "document_id": "uuid",
  "chunks_created": 12,
  "message": "ุชู ุฅุถุงูุฉ ุงููุณุชูุฏ ูุฅูุดุงุก 12 ูุทุนุฉ"
}
```

**ููุงุญุธุฉ:** ุฅุฐุง ุงููุต ูุญุชูู ุฃููุงุท "ุณุคุงู: ... ุฌูุงุจ: ..."ุ ูููุทููุน ุชููุงุฆูุงู ุจุญูุซ ูู ุณุคุงู+ุฌูุงุจ ูู ูุทุนุฉ ูููุตูุฉ.

---

## ๐๏ธ ุฌุฏุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### `ai_files` โ ุงููููุงุช ุงููุฑููุนุฉ

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `id` | char(36) | ูุนุฑูู UUID ูุฑูุฏ |
| `filename` | varchar(500) | ุงุณู ุงูููู ุงูุฃุตูู |
| `mime_type` | varchar(255) | ููุน ุงูููู (image/jpeg, application/pdf) |
| `file_size` | bigint | ุญุฌู ุงูููู ุจุงูุจุงูุช |
| `file_path` | text | ุงููุณุงุฑ ุนูู ุงููุฑุต |
| `extracted_text` | text | ุงููุต ุงููุณุชุฎุฑุฌ (ููุณุชุฎุฏู ูู ุงูุจุญุซ) |
| `structured_data` | longtext | ุจูุงูุงุช JSON ุฅุถุงููุฉ (ุฃุจุนุงุฏ ุตูุฑุฉุ ุฅูุฎ) |
| `created_at` | datetime | ุชุงุฑูุฎ ุงูุฑูุน |

**ุงุณุชุฎุฏุงู:**
```sql
-- ุฌูุจ ูู ุงููููุงุช ุงูุชู ุชุญุชูู ุนูู ูุต ูุณุชุฎุฑุฌ
SELECT filename, LEFT(extracted_text, 200) FROM ai_files WHERE extracted_text != '';

-- ุฌูุจ ุฅุฌูุงูู ุญุฌู ุงููููุงุช
SELECT SUM(file_size)/1024/1024 as total_mb FROM ai_files;
```

---

### `ai_knowledge_bases` โ ููุงุนุฏ ุงููุนุฑูุฉ

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `id` | char(36) | ูุนุฑูู UUID |
| `name` | varchar(255) | ุงุณู ูุงุนุฏุฉ ุงููุนุฑูุฉ |
| `description` | text | ูุตู |
| `is_public` | tinyint(1) | 1=ุนุงูุฉุ 0=ุฎุงุตุฉ |
| `metadata` | longtext | JSON ููุจูุงูุงุช ุงูุฅุถุงููุฉ |

---

### `ai_documents` โ ุงููุณุชูุฏุงุช

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `id` | char(36) | ูุนุฑูู UUID |
| `knowledge_base_id` | char(36) | โ ุชุดูุฑ ูู `ai_knowledge_bases.id` |
| `file_id` | char(36) | โ ุชุดูุฑ ูู `ai_files.id` (ุงุฎุชูุงุฑู) |
| `title` | varchar(500) | ุนููุงู ุงููุณุชูุฏ |
| `language` | varchar(8) | `ar` ุฃู `en` |

---

### `ai_document_chunks` โ ูุทุน ุงููุตูุต โญ ุงูุฃูู ููุจุญุซ

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `id` | char(36) | ูุนุฑูู UUID |
| `document_id` | char(36) | โ ุชุดูุฑ ูู `ai_documents.id` |
| `chunk_index` | int | ุชุฑุชูุจ ุงููุทุนุฉ (1ุ 2ุ 3...) |
| `content` | text | **ูุต ุงููุทุนุฉ โ ููุจุญุซ ููู ุนูุฏ ุงูุณุคุงู** |
| `language` | varchar(8) | ูุบุฉ ุงููุทุนุฉ |
| `token_count` | int | ุนุฏุฏ ุงููููุงุช |
| `embedding` | blob | ูุชุฌู ุฑูุงุถู (ูุณุชูุจูุงู) |

**ูุฐุง ุงูุฌุฏูู ูู ูุญุฑู ุงูุจุญุซ ุงูุฃุณุงุณู:**
```sql
-- ูุง ูุญุฏุซ ุนูุฏ ูู ุณุคุงู:
SELECT id, content
FROM ai_document_chunks
WHERE content LIKE '%ุจูุงูุฉ%'
   OR content LIKE '%ูุณุงุญุฉ%'
ORDER BY ... (ููุฑุชูุจ ููุฏูุงู ุจู score_chunk())
LIMIT 50;
```

---

### `ai_threads` โ ุงููุญุงุฏุซุงุช

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `id` | char(36) | ูุนุฑูู UUID |
| `title` | varchar(255) | ุนููุงู ุงููุญุงุฏุซุฉ (ุฃูู 80 ุญุฑู ูู ุงูุณุคุงู ุงูุฃูู) |
| `metadata` | longtext | JSON |
| `created_at` | datetime | |
| `updated_at` | datetime | ูุชุญุฏุซ ุชููุงุฆูุงู |

---

### `ai_messages` โ ุงูุฑุณุงุฆู

> โ๏ธ ูุฐุง ุงูุฌุฏูู ุบูุฑ ููุฌูุฏ ูู ุงูู DESCRIBE ุฃุนูุงู ูููู ููุณุชุฎุฏู ูู ุงูููุฏ:

```sql
CREATE TABLE IF NOT EXISTS ai_messages (
  id          char(36) PRIMARY KEY,
  thread_id   char(36),
  role        varchar(20),     -- 'user' ุฃู 'assistant'
  content     text,
  model       varchar(100),    -- 'local-rag-v1'
  tokens      int,
  latency_ms  int,
  language    varchar(8),
  created_at  datetime DEFAULT current_timestamp()
);
```

---

### `ai_message_files` โ ุฑุจุท ุฑุณุงุฆู ุจูููุงุช

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `message_id` | char(36) | โ ุชุดูุฑ ูู `ai_messages.id` |
| `file_id` | char(36) | โ ุชุดูุฑ ูู `ai_files.id` |

---

### `ai_vision_analyses` โ ุชุญูููุงุช ุงูุตูุฑ

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `file_id` | char(36) | โ ุชุดูุฑ ูู `ai_files.id` |
| `message_id` | char(36) | โ ุชุดูุฑ ูู `ai_messages.id` |
| `extracted_text` | text | ุงููุต ุงููุณุชุฎุฑุฌ ุจู OCR |
| `description` | text | ูุตู ูุญุชูู ุงูุตูุฑุฉ |
| `structured_data` | longtext | ุจูุงูุงุช JSON (ุฃููุงูุ ุฃุจุนุงุฏุ ุฅูุฎ) |

> ูุฐุง ุงูุฌุฏูู ููุนุฏู ูุชุฎุฒูู ุชุญูููุงุช ุงูุตูุฑ ุจุดูู ูููุตู. ุญุงููุงู ููุฎุฒููู ูู `ai_files.extracted_text`.

---

### `ai_thread_memory` โ ุฐุงูุฑุฉ ุงููุญุงุฏุซุฉ

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `thread_id` | char(36) | โ ุชุดูุฑ ูู `ai_threads.id` |
| `summary` | text | ููุฎุต ุงููุญุงุฏุซุฉ |
| `key_facts` | longtext | ุญูุงุฆู ูููุฉ JSON |

> ููุนุฏู ูุชูุฎูุต ุงููุญุงุฏุซุงุช ุงูุทูููุฉ. ุบูุฑ ูููุนููู ุญุงููุงู.

---

### `ai_usage_logs` โ ุณุฌู ุงูุงุณุชุฎุฏุงู

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `thread_id` | char(36) | |
| `model` | varchar(100) | ุงููููุฐุฌ ุงููุณุชุฎุฏู |
| `tokens_input` | int | ุฑููุฒ ุงูุณุคุงู |
| `tokens_output` | int | ุฑููุฒ ุงูุฅุฌุงุจุฉ |
| `cost_usd` | decimal | ุงูุชูููุฉ (ููููุงุฐุฌ ุงููุฏููุนุฉ) |

---

### `ai_feedback` โ ุงูุชููููุงุช

| ุงูุนููุฏ | ุงูููุน | ุงููุตู |
|--------|-------|-------|
| `message_id` | char(36) | โ ุชุดูุฑ ูู `ai_messages.id` |
| `rating` | int | 1-5 ูุฌูู |
| `comment` | text | ุชุนููู |

---

## ๐ ุณูุฑ ุฑูุน ููู ูุงูู (ูู ุงูุจุฏุงูุฉ ููููุงูุฉ)

### ุณููุงุฑูู: ุฑูุน PDF ูุฅุถุงูุชู ููุงุนุฏุฉ ุงููุนุฑูุฉ

```
1. ุงููุณุชุฎุฏู ูุฑูุน "ุฏููู_ุงูุตุญุฉ.pdf" ูู ููุญุฉ ุงูุฅุฏุงุฑุฉ
        โ
2. [admin_ai.php] POST /api/v1/files/upload
   - ูุฑุณู ุงูููู ูู multipart/form-data
        โ
3. [files.py] ูุณุชูุจู ุงูููู
   - ูุญูุธู: uploads/{uuid}.pdf
   - ูุณุชุฏุนู extract_text_from_file()
        โ
4. [file_processor.py] _process_pdf_file()
   - ูุฌุฑูุจ PyPDF2 ุฃููุงู
   - ุฅุฐุง ูุดูุ ูุฌุฑูุจ pdfminer
   - ุงููุชูุฌุฉ: ูุต ูุงูู ูู ูู ุงูุตูุญุงุช
        โ
5. [DB] INSERT INTO ai_files
   - extracted_text = ูุต PDF ุงููุงูู
        โ
6. [PHP] ูุฃุฎุฐ extracted_text ูู ุงูุงุณุชุฌุงุจุฉ
        โ
7. [PHP] POST /api/v1/knowledge-bases/{kb_id}/documents
   - title = "ุฏููู_ุงูุตุญุฉ.pdf"
   - content = ูุต PDF ุงููุงูู
   - language = "ar"
        โ
8. [knowledge.py] simple_chunk_text()
   - ููุณู ุงููุต ููุทุน 500 ูููุฉ
   - ูุญูุธ ูู ูุทุนุฉ ูู ai_document_chunks
        โ
9. [DB] 15 ูุทุนุฉ ูู ai_document_chunks
        โ
10. ุงูููู ุฃุตุจุญ ูุชุงุญุงู ููุจุญุซ ููุฑุงู โ
```

---

## ๐ผ๏ธ ููู ุชูุญููุธ ุงูุตูุฑ ูุชููุฑุฃ

### ุญูุธ ุงูุตูุฑุฉ:
```
ุงูุตูุฑุฉ ุงููุฑููุนุฉ
      โ
ai_files.id = "550e8400-e29b-41d4-a716-446655440000"
ai_files.filename = "ุตูุฑุชู.png"
ai_files.file_path = "uploads/550e8400.png"
ai_files.mime_type = "image/png"
ai_files.extracted_text = "๐ท ุตูุฑุฉ: 1920ร1080 ุจูุณู..."
```

### ูุฑุงุกุฉ ุงูุตูุฑุฉ ุจู OCR:
```python
# ุฅุฐุง ุชูููุฑ pytesseract:
from PIL import Image
import pytesseract

img = Image.open("uploads/ุตูุฑุชู.png")
text = pytesseract.image_to_string(img, lang="ara+eng")
# ุงููุชูุฌุฉ: ูู ุงููุต ุงูููุชูุจ ุฏุงุฎู ุงูุตูุฑุฉ
```

### ูุชูุนูู OCR ุงููุงูู ุนูู ุงูุณูุฑูุฑ:
```bash
# ุชุซุจูุช Tesseract (ุนูู Ubuntu/Debian):
sudo apt-get install tesseract-ocr tesseract-ocr-ara

# ุชุซุจูุช ููุชุจุงุช Python:
pip install pytesseract Pillow

# ุชุญูู ูู ุงูุชุซุจูุช:
tesseract --list-langs  # ูุฌุจ ุฃู ูุธูุฑ 'ara'
```

---

## ๐ ุชูุณูู ุงูุจูุงูุงุช ุงูุฃูุซู ููุฅุฏุฎุงู

### 1. ุชูุณูู ุณุคุงู/ุฌูุงุจ (ุงูุฃูุถู ุฏูุฉู)
```
ุณุคุงู: ูุง ูู ูุณุงุญุฉ ุงูุจูุงูุฉ ุงููุทููุจุฉุ
ุฌูุงุจ: ุงููุณุงุญุฉ ุงููููุฉ ูููููุน ุญุฏ ุฃุฏูู 30 ูุชุฑ ูุฑุจุน

ุณุคุงู: ูู ูููู ุจูุน ุงูุฎุถุฑูุงุช ูู ุงูุจูุงูุฉุ
ุฌูุงุจ: ูุนูุ ูููู ูุฌุจ ุชูููุฑ ุจุฑุงุฏุงุช ุจูุธุงู ูุชุญ ุงูุฃุจูุงุจ

ุณุคุงู: ูุง ูู ููู ุงูุฌุฏุฑุงู ุงููุทููุจุ
ุฌูุงุจ: ุงูุฌุฏุฑุงู ูุฌุจ ุฃู ุชููู ููุณุงุก ููุทููุฉ ุจูุงุฏุฉ ุฒูุชูุฉ ุจูุถุงุก
```
ุงููุธุงู ูุญูุธ ูู ุณุคุงู+ุฌูุงุจ ูู**ูุทุนุฉ ูุงุญุฏุฉ** โ ุฏูุฉ ุจุญุซ ุนุงููุฉ ุฌุฏุงู.

### 2. ูุต ุนุงุฏู (ููุฑุงุช)
```
ูุฌุจ ุฃู ุชููู ุงูุฃุฑุถูุฉ ูู ุงูุณูุฑุงููู ูุงุชุญ ุงูููู.
ุฃู ุชููู ุงูุฌุฏุฑุงู ููุณุงุก ูุฎุงููุฉ ูู ุงูุดููู.
ุชูููุฑ ูุณููุฉ ุชูููุฉ ููุงุณุจุฉ.
```

### 3. CSV (ุจูุงูุงุช ุฌุฏูููุฉ)
```csv
ุงููุดุงุท,ุงููุณุงุญุฉ_ุงููุทููุจุฉ,ููุงุญุธุงุช
ุจูุงูุฉ,30 ูยฒ,ุงูุญุฏ ุงูุฃุฏูู
ุณูุจุฑ ูุงุฑูุช,60 ูยฒ,ุจุฏูู ููุญูุฉ
ูุทุนู,25 ูยฒ ูุทุจุฎ,+ ูุณุชูุฏุน 10 ูยฒ
```

---

## ๐ค ููู ุชุฌุนู ุงููููุฐุฌ ููุชุจ ููุฏ ุฃู ูุฑุณู

### ูุชุงุจุฉ ููุฏ (ุญุงููุงู โ ุนุจุฑ ูุงุนุฏุฉ ุงููุนุฑูุฉ)

ุฃุถู ุจูุงูุงุช ุชุฏุฑูุจ ุนูู ุดูู ุณุคุงู/ุฌูุงุจ ุชุญุชูู ุฃููุงุฏุงู:

```
ุณุคุงู: ููู ุฃูุดุฆ ุฌุฏูู HTML ุจุณูุทุ
ุฌูุงุจ: 
<table border="1">
  <tr><th>ุงูุงุณู</th><th>ุงูุนูุฑ</th></tr>
  <tr><td>ุฃุญูุฏ</td><td>25</td></tr>
</table>

ุณุคุงู: ููู ุฃูุชุจ ุญููุฉ for ูู Pythonุ
ุฌูุงุจ:
for i in range(10):
    print(f"ุงูุฑูู: {i}")
```

ุนูุฏ ุณุคุงู ุงููุณุชุฎุฏู "ููู ุฃูุดุฆ ุฌุฏูู HTMLุ" ูุฌุฏ ุงููุธุงู ูุฐู ุงููุทุนุฉ ูููุนูุฏ ุงูููุฏ.

### ุงูุฑุณู ูุงููุฎุทุทุงุช (ูุณุชูุจูุงู)

ุงููุธุงู ุงูุญุงูู **RAG ููุท** (ุจุญุซ + ุฅุฌุงุจุฉ). ููุฑุณู ุงูุญูููู ุชุญุชุงุฌ:
- **Chart.js** ูู ุงููุงุฌูุฉ โ ุงููุณุชุฎุฏู ูุทูุจ ูุฎุทุทุงูุ ุงูููุฏ ูููุดุฆู
- **matplotlib** ูู Python โ ูุฅูุดุงุก ุตูุฑ ูุฎุทุทุงุช
- **Mermaid.js** โ ูููุฎุทุทุงุช ุงูุชุฏูููุฉ

ูุซุงู ุชุทุจููู ุญุงูู (ุฑุณู ุนุจุฑ ุงูุฑุฏ):
```
ุฃุถู ูู ูุงุนุฏุฉ ุงููุนุฑูุฉ:
ุณุคุงู: ุงุฑุณู ูุฎุทุท ูุณุงุญุงุช ุงูุฃูุดุทุฉ
ุฌูุงุจ:
| ุงููุดุงุท      | ุงููุณุงุญุฉ |
|-------------|---------|
| ุจูุงูุฉ       | 30 ูยฒ   |
| ุณูุจุฑ ูุงุฑูุช | 60 ูยฒ   |
| ูุทุนู        | 35 ูยฒ   |
```

---

## ๐ง ุงูุชุญุณููุงุช ุงูููุชุฑุญุฉ ูููุธุงู

### 1. ุฅุถุงูุฉ Excel (XLSX) โญ ุฃููููุฉ ุนุงููุฉ
```python
# ูู requirements.txt:
openpyxl

# ูู file_processor.py:
elif ext in [".xlsx", ".xls"]:
    result = _process_excel_file(file_bytes, result)

def _process_excel_file(file_bytes, result):
    import openpyxl
    wb = openpyxl.load_workbook(io.BytesIO(file_bytes))
    lines = []
    for sheet in wb.sheetnames:
        ws = wb[sheet]
        lines.append(f"--- ูุฑูุฉ: {sheet} ---")
        for row in ws.iter_rows(values_only=True):
            lines.append(" | ".join(str(v or "") for v in row))
    result["text"] = "\n".join(lines)
    result["success"] = True
    return result
```

### 2. ุชูุนูู OCR ููุตูุฑ
```bash
# ุนูู Ubuntu:
sudo apt-get install tesseract-ocr tesseract-ocr-ara tesseract-ocr-eng
pip install pytesseract Pillow

# ุนูู CentOS/cPanel:
# ุชุญุชุงุฌ ุตูุงุญูุงุช root ุฃู ุงูุงุณุชุนุงูุฉ ุจุงูุฏุนู ุงูุชููู
```

### 3. ุชุญุณูู ุฌุฏูู `ai_document_chunks`
```sql
-- ุฅุถุงูุฉ Full-Text Index ููุจุญุซ ุงูุฃุณุฑุน:
ALTER TABLE ai_document_chunks
ADD FULLTEXT INDEX ft_content (content);

-- ุงูุจุญุซ ุจุนุฏูุง:
SELECT * FROM ai_document_chunks
WHERE MATCH(content) AGAINST ('ูุณุงุญุฉ ุจูุงูุฉ' IN BOOLEAN MODE);
```

### 4. ุชุญุณูู `ai_vision_analyses`

ุงูุฌุฏูู ููุฌูุฏ ููู ุบูุฑ ููุณุชุฎุฏู. ูููู ุชูุนููู:
```python
# ูู files.py ุจุนุฏ ุงุณุชุฎุฑุงุฌ ุงููุต ูู ุตูุฑุฉ:
execute_query(
    "INSERT INTO ai_vision_analyses (id, file_id, extracted_text, description) VALUES (%s, %s, %s, %s)",
    (uuid.uuid4(), file_id, ocr_text, pillow_description)
)
```

### 5. ุงูุฐุงูุฑุฉ ุจูู ุงููุญุงุฏุซุงุช (`ai_thread_memory`)

```python
# ูู chat.pyุ ุจุนุฏ ูู 5 ุฑุณุงุฆูุ ุญูุธ ููุฎุต:
if message_count % 5 == 0:
    summary = " | ".join([m['content'][:50] for m in last_messages])
    execute_query(
        "INSERT INTO ai_thread_memory (thread_id, summary, key_facts) "
        "VALUES (%s, %s, %s) ON DUPLICATE KEY UPDATE summary=%s",
        (thread_id, summary, '{}', summary)
    )
```

### 6. ุณุฌู ุงูุงุณุชุฎุฏุงู (`ai_usage_logs`)

```python
# ูู chat.pyุ ูู ููุงูุฉ process_chat_request:
execute_query(
    "INSERT INTO ai_usage_logs (thread_id, model, tokens_input, tokens_output) VALUES (%s, %s, %s, %s)",
    (thread_id, 'local-rag-v1', len(question.split()), len(answer.split()))
)
```

---

## ๐ ุญู ุงููุดููุงุช ุงูุดุงุฆุนุฉ

### ุงููุดููุฉ: PDF ููุฑูุน ููู ูุง ููุณุชุฎุฑุฌ ููู ูุต
**ุงูุณุจุจ:** PyPDF2 ู pdfminer ุบูุฑ ูุซุจูุชููู.  
**ุงูุญู:**
```bash
pip install PyPDF2 pdfminer.six
touch ai-engine/tmp/restart.txt
```

### ุงููุดููุฉ: ุงูุตูุฑ ูุง ุชููุตู
**ุงูุณุจุจ:** pytesseract ุบูุฑ ูุซุจูุช ุฃู Tesseract OS ุบูุฑ ููุฌูุฏ.  
**ุงูุญู ุงููุฑุญูู:** ุงูุตูุฑุฉ ุชูุญูุธ ูุชูุนุทู ูุนูููุงุช ุฃุณุงุณูุฉ (ุงูุฃุจุนุงุฏุ ุงูุญุฌูุ ุงูููุน) ูู Pillow.  
**ุงูุญู ุงููุงูู:** ุชุซุจูุช Tesseract ุนูู ุงูุณูุฑูุฑ.

### ุงููุดููุฉ: 404 ุนูู ููุทุฉ ููุงูุฉ
**ุงูุณุจุจ:** uvicorn ูุนูู ุจููุฏ ูุฏูู ูุจู ุฅุถุงูุฉ ุงููุณุงุฑ.  
**ุงูุญู:** 
```bash
touch ai-engine/tmp/restart.txt   # ุฅุฐุง Passenger
# ุฃู
kill -HUP $(pgrep uvicorn)        # ุฅุฐุง uvicorn ูุจุงุดุฑ
```

### ุงููุดููุฉ: "ูู ุฃุฌุฏ ูุนูููุงุช ูุงููุฉ"
**ุงูุณุจุจ:** ูุงุนุฏุฉ ุงููุนุฑูุฉ ูุงุฑุบุฉ ุฃู ุงููููุงุช ุงูููุชุงุญูุฉ ูุง ุชุชุทุงุจู.  
**ุงูุญู:**
1. ุชุฃูุฏ ูู ูุฌูุฏ ุจูุงูุงุช ูู `ai_document_chunks`
2. ุฃุถู ูุณุชูุฏุงุช ุจุชูุณูู ุณุคุงู/ุฌูุงุจ
3. ุงูุญุต: `GET /api/v1/health` โ `total_chunks_found`

### ุงููุดููุฉ: API ููุนูุฏ 500
**ุงูุญุต:**
```bash
tail -50 ai-engine/fastapi.log
tail -50 ai-engine/uvicorn.log
```

---

## ๐ ููุงุญุธุงุช ุฃูููุฉ ูููุฉ

1. **ููู `.env`** ูุฌุจ ุฃู ูููู ุฎุงุฑุฌ `public_html` ุฃู ูุญูู ุจู `.htaccess`
2. **ูุฌูุฏ `uploads/`** ูุฌุจ ุฃู ูุง ูููููุฐ PHP ุฃู Python โ ุฃุถู `.htaccess`:
   ```apache
   Options -ExecCGI
   RemoveHandler .php .py .pl
   ```
3. **CORS** ุญุงููุงู ููุชูุญ `"*"` โ ูู ุงูุฅูุชุงุฌ ุฎุตูุตู ููุฏูููู ููุท:
   ```python
   allow_origins=["https://hcsfcs.top"]
   ```
4. **ุญุฌู ุงูููู** ูุญุฏุฏ ุจู `50MB` ูู `config.py` โ ุนุฏููู ุญุณุจ ุญุงุฌุชู

---

## ๐ ููุฎุต ุณุฑูุน โ ูู ุฃูู ุฃุจุฏุฃุ

| ูุฏูู | ุงูุฎุทูุงุช |
|------|---------|
| **ุฅุถุงูุฉ ุจูุงูุงุช ูููุธุงู** | ููุญุฉ ุงูุฅุฏุงุฑุฉ โ "ุชุบุฐูุฉ ุงูุจูุงูุงุช" โ ุงุฑูุน PDF/Excel |
| **ุชุญุณูู ุฏูุฉ ุงูุจุญุซ** | ุงุณุชุฎุฏู ุชูุณูู ุณุคุงู/ุฌูุงุจ ุนูุฏ ุฅุถุงูุฉ ุงููุณุชูุฏุงุช |
| **ุชูุนูู ูุฑุงุกุฉ ุงูุตูุฑ** | ุซุจูุช Tesseract + pytesseract ุนูู ุงูุณูุฑูุฑ |
| **ุชูุนูู Excel** | ุฃุถู `openpyxl` ูู requirements.txt ูุนุฏูู file_processor.py |
| **ุฅุนุงุฏุฉ ุชุดุบูู API** | `touch ai-engine/tmp/restart.txt` |
| **ูุญุต ุงูุฃุฎุทุงุก** | `tail -50 ai-engine/fastapi.log` |
| **ุงุฎุชุจุงุฑ API** | `https://hcsfcs.top/ai-engine/docs` |
